# RFactor2 Console Hardware Control Dynamic Link Library
- Allows external applications to toggle hardware controls within RFactor2.
- This DLL will not do anything without a client application sending it commands (see python example).
- These commands are documented by <a href="https://www.studio-397.com/wp-content/uploads/2016/12/rFactorInternalsPlugin.pdf" target="_new">Studio397</a>.  Some work, some don't.

## Installation and Use
- Change debugging file path in .hpp file and toggle debugging definition as needed.
- Build DLL.
- Copy to RFactor2 Plugin Folder.
- Correct path to DLL in the example python example file.
- Change the variable "c_message" in the python example to your desired command.
- While running RFactor2, execute the python example file. 

## Further development
- The DLL creates a shared memory location "RF2_ConsoleHWControl" which is read once per frame.
- If a command exists in this space, it waits for RF2 to poll the matching command, then sets the return value to 1
- The Python example file writes a control name (See current_commands.txt) to the shared memory location and should be toggled on the next frame
-- If you are running RF2 in windowed mode and switching applications to run the python script, you will need to quickly jump back to RF2 for the command to be received.  If the command is received while the window is paused, it sometimes ignores the command toggle.
- The current_commands.txt was generated by logging which commands were polled by RF2.  Some do not appear to accept modification (e.g. Horn, Brake).

## Code derived from:
- <a href="https://www.studio-397.com/modding-resources/" target="_new">Studio397 Example #7</a>
- <a href="https://github.com/tappi287/rf2_chat_transceiver" target="_new">rf2_Chat_transceiver by tappi287</a>
- <a href="https://github.com/cosimo/rFactor2-RaceStandings" target="_new">rFactor2-RaceStandings by cosimo</a>
